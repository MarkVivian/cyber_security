                 SECTION 7 — Advanced Workflows & Power Tools
                =================================================
1. `git stash` — Temporary Shelf
    > You’re working.
    > Half done.
    > You need to switch branches.

    > But Git says:
        EG.
            error: Your local changes would be overwritten

                * Enter stash.

            # Basic stash
            git stash

                * Saves current uncommitted changes
                * Reverts working directory to clean state

            # Bring it back
            git stash pop

                * Applies stash and removes it from stash list.

            # See stash list
            git stash list

                EG.
                    stash@{0}: WIP on main
                    stash@{1}: WIP on feature


            # Apply without deleting
            git stash apply stash@{0}


            # Include untracked files
            git stash -u

                - By default stash does NOT include new untracked files.


            # Create stash with message
            git stash push -m "half finished auth"

                * Stash is not permanent storage.
                * It’s temporary.


2. Rebase vs Merge — When to Use What
    - This is a professional decision.
    -  Use Merge When:
        * You want to preserve full branch history.
        * You’re working in a team.
        * It’s shared branch like main.

            > Produces merge commit.

    - Use Rebase When:
        * Cleaning up feature branch before merging.
        * You want linear history.
        * It’s local work not yet pushed.

            > Common pattern:
            EG.
                git checkout feature
                git rebase main
                git checkout main
                git merge feature

                    > This gives clean history without messy merge commits.

    - Golden rule:
        * Never rebase commits already pushed to shared branch unless coordinated.


3. `git worktree` — Multiple Working Directories
    - This one is underrated.
    - You can check out different branches in different folders.
        EG.
            git worktree add ../feature-branch feature

                > Now:
                    * Original folder → main
                    * New folder → feature

                        = Both connected to same repo.

                > Good for:
                    * Reviewing PRs
                    * Hotfix while feature work continues

                > Remove worktree:
                    EG.
                        git worktree remove ../feature-branch


4. Git Hooks
    - Hooks are scripts that run automatically.
    - Stored in:
        .git/hooks/
    - Examples:
        * `pre-commit`
        * `pre-push`
        * `commit-msg`

        EG. block commit if no tests pass
            # Create 
            .git/hooks/pre-commit

            # Make executable:
            chmod +x .git/hooks/pre-commit

            # Add:
            #!/bin/bash
            echo "Running checks..."
            exit 0

                > If script exits non-zero, commit fails.
    

5. Cleaning Up History Properly
    - If you accidentally committed a secret:
    - DO NOT just delete file.
    - History still contains it.
    - You must rewrite history.
    - Modern tool:
        EG.
            git filter-repo
    
    - Older:
        EG.
            git filter-branch

    - Or BFG Repo Cleaner.
    - After rewriting:
    - You must force push.
    - And everyone must reclone.
    - This is serious surgery.


6. Submodules
    - Submodules = repo inside repo.
        EG.
            git submodule add https://github.com/example/lib.git lib

                > This does NOT copy code.
                > It references specific commit of external repo.
                > Pros:
                    * Use external project at fixed version.
                > Cons:
                    * Complex.
                    * Many teams avoid them.

    - Clone with submodules:
        EG.
            git clone --recurse-submodules <url>

    - Update:
        EG.
            git submodule update --init --recursive


7. Practical Workflows
    ## Feature Branch Workflow
        1. `git checkout -b feature-x`
        2. Work, commit.
        3. `git rebase main`
        4. `git merge feature-x`
        5. Delete feature branch.

    ## Hotfix Workflow
        1. `git checkout main`
        2. `git checkout -b hotfix`
        3. Fix.
        4. Merge back to main and release.

    ## Release with Tags

        1. Merge features.
        2. Run tests.
        3. Tag release:
        EG.
            git tag -a v2.0 -m "Release 2.0"
            git push origin v2.0
